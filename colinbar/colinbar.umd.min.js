(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["colinbar"]=t(require("vue")):e["colinbar"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(){"use strict";var t={82:function(e,t){t.Z=(e,t)=>{const o=e.__vccOpts||e;for(const[n,a]of t)o[n]=a;return o}},203:function(t){t.exports=e}},o={};function n(e){var a=o[e];if(void 0!==a)return a.exports;var r=o[e]={exports:{}};return t[e](r,r.exports,n),r.exports}!function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}();var a={};return function(){if(n.r(a),n.d(a,{default:function(){return O}}),"undefined"!==typeof window){var e=window.document.currentScript,t=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);t&&(n.p=t[1])}var o=n(203);const r=e=>((0,o.pushScopeId)("data-v-650118e6"),e=e(),(0,o.popScopeId)(),e),l={class:"x"},i={key:0,class:"loading"},s=r((()=>(0,o.createElementVNode)("div",{class:"loading-spinner"},null,-1))),c=r((()=>(0,o.createElementVNode)("div",{class:"loading-text"},"Loading...",-1))),d=[s,c],u={class:"overWrapper"},m={class:"innerWrapper"},p={class:"fake1"},f=r((()=>(0,o.createElementVNode)("div",{style:{"margin-left":"4px"}},"-",-1))),v=r((()=>(0,o.createElementVNode)("div",{class:"bar1"},[(0,o.createElementVNode)("div",{class:"xItem"})],-1))),y={class:"box2",ref:"box2"},h={class:"span"},b=r((()=>(0,o.createElementVNode)("div",{class:"box3"},null,-1)));function k(e,t,n,a,r,s){const c=(0,o.resolveComponent)("sppan");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[r.isOk?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",i,d)),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",{class:"box1",style:(0,o.normalizeStyle)({visibility:r.isOk?"visible":"hidden"})},[(0,o.createElementVNode)("div",p,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.yData,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"yItem",style:{height:"50%"},key:e},[(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(e),1),f])))),128))]),v],4),(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("div",{class:"fake",style:(0,o.normalizeStyle)({width:`${r.box2Width}px`,borderBottom:r.isOk?"1px solid #000":"0px"})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.tData,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"value",key:e},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["vItem",{"vItem-animate":e.animate}]),style:(0,o.normalizeStyle)({height:r.isOk?100*e.bit+"%":"0%"})},[(0,o.createElementVNode)("span",h,(0,o.toDisplayString)(r.isOk?e.value:""),1)],6)])))),128))],4),(0,o.createElementVNode)("div",{class:"bar",style:(0,o.normalizeStyle)({width:`${r.box2Width}px`})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.data,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"xItem",key:e},[(0,o.createVNode)(c,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.isOk?e.xName:""),1)])),_:2},1024)])))),128))],4)],512),b])])])}var x={name:"colinBar",props:["data"],data(){return{box2Width:null,yData:[],isOk:!1,tData:[]}},methods:{handleData(e){const t=Array.from(new Set(e.map((e=>e.value)))).sort(((e,t)=>t-e)),o=t.shift();this.yData=[Math.floor(o/2),Math.floor(o)].reverse()},handleX(e){const t=e.reduce(((e,t)=>t.value>e.value?t:e)),o=t.value,n=e.map((e=>({...e,bit:Number((e.value/o).toFixed(2))})));this.tData=n.map((e=>({...e,bit:e===t?1:e.bit})))}},async mounted(){this.handleData(this.data),await this.handleX(this.data),this.box2Width=this.$refs.box2.scrollWidth,setTimeout((()=>{this.data.forEach(((e,t)=>{setTimeout((()=>{e.animate=!0}),100*t)}))}),500),setTimeout((()=>{this.isOk=!0}),500)}},E=n(82);const N=(0,E.Z)(x,[["render",k],["__scopeId","data-v-650118e6"]]);var V=N;const B={colinBar:V};function g(e){const t=Object.keys(B);t.forEach((t=>{const o=B[t];e.component(o.name||t,o)}))}var S={install:g,...B},O=S}(),a}()}));
//# sourceMappingURL=colinbar.umd.min.js.map