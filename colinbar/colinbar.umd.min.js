(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["colinbar"]=t(require("vue")):e["colinbar"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(){"use strict";var t={82:function(e,t){t.Z=(e,t)=>{const o=e.__vccOpts||e;for(const[a,n]of t)o[a]=n;return o}},203:function(t){t.exports=e}},o={};function a(e){var n=o[e];if(void 0!==n)return n.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,a),l.exports}!function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p=""}();var n={};return function(){if(a.r(n),a.d(n,{default:function(){return C}}),"undefined"!==typeof window){var e=window.document.currentScript,t=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);t&&(a.p=t[1])}var o=a(203);const l=e=>((0,o.pushScopeId)("data-v-5bc13af7"),e=e(),(0,o.popScopeId)(),e),i={class:"x"},r={key:0,class:"loading"},s=l((()=>(0,o.createElementVNode)("div",{class:"loading-spinner"},null,-1))),d=l((()=>(0,o.createElementVNode)("div",{class:"loading-text"},"Loading...",-1))),c=[s,d],u={class:"overWrapper"},m={class:"innerWrapper"},p={key:0,class:"fake1"},v=l((()=>(0,o.createElementVNode)("div",{style:{"margin-left":"4px"}},"-",-1))),f=l((()=>(0,o.createElementVNode)("div",{class:"bar1"},[(0,o.createElementVNode)("div",{class:"xItem"})],-1))),h={class:"box2",ref:"box2"},b=["onMouseover","onMouseout"],y={class:"span"},x=l((()=>(0,o.createElementVNode)("div",{class:"box3"},null,-1)));function g(e,t,a,n,l,s){return(0,o.openBlock)(),(0,o.createElementBlock)("div",i,[l.isOk?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",r,c)),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",{class:"box1",style:(0,o.normalizeStyle)({visibility:l.isOk?"visible":"hidden"})},[a.isShowY?((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(l.yData,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"yItem",style:{height:"50%"},key:e},[(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(e),1),v])))),128))])):(0,o.createCommentVNode)("",!0),f],4),(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("div",{class:"fake",style:(0,o.normalizeStyle)({width:`${l.box2Width}px`,borderBottom:l.isOk?"1px solid #000":"0px",borderLeft:l.isOk?"1px solid #000":"0px"})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(l.tData,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"value",key:e},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["vItem",{"vItem-animate":e.animate}]),style:(0,o.normalizeStyle)({height:l.isOk?100*e.bit+"%":"0%",backgroundColor:e.bgColor,transition:"all 0.3s ease"}),onMouseover:t=>s.handleMouseOver(e.id),onMouseout:t=>s.handleMouseOut(e.id)},[(0,o.createElementVNode)("span",y,(0,o.toDisplayString)(l.isOk&&a.isShowValue?e.value:""),1)],46,b)])))),128))],4),a.isShowX?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"bar",style:(0,o.normalizeStyle)({width:`${l.box2Width}px`})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.data,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"xItem",key:e},[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(l.isOk?e.xName:""),1)])))),128))],4)):(0,o.createCommentVNode)("",!0)],512),x])])])}var k={name:"colinBar",props:{data:{type:Array,default:()=>[{id:1,xName:"周一",value:120},{id:2,xName:"周二",value:60},{id:3,xName:"周三",value:20},{id:4,xName:"周四",value:70},{id:5,xName:"周五",value:10},{id:6,xName:"周一",value:120},{id:7,xName:"周二",value:60},{id:8,xName:"周三",value:20},{id:9,xName:"周四",value:70},{id:10,xName:"周五",value:10},{id:11,xName:"周一",value:120},{id:12,xName:"周二",value:60},{id:13,xName:"周三",value:20},{id:14,xName:"周四",value:70},{id:15,xName:"周五",value:10}]},isShowY:{type:Boolean,default:!0},isShowX:{type:Boolean,default:!0},isShowValue:{type:Boolean,default:!0},bgColor:{type:String,default:"#5871c0"}},data(){return{box2Width:null,yData:[],isOk:!1,tData:[]}},methods:{handleMouseOver(e){const t=this.tData.find((t=>t.id===e)),o=this.lightenColor(this.bgColor,10);t.bgColor=o},handleMouseOut(e){const t=this.tData.find((t=>t.id===e));t.bgColor=this.bgColor},handleData(e){const t=Array.from(new Set(e.map((e=>e.value)))).sort(((e,t)=>t-e)),o=t.shift();this.yData=[Math.floor(o/2),Math.floor(o)].reverse()},handleX(e){const t=e.reduce(((e,t)=>t.value>e.value?t:e)),o=t.value,a=e.map((e=>({...e,bit:Number((e.value/o).toFixed(2))})));this.tData=a.map((e=>({...e,bit:e===t?1:e.bit})))},handleBgColor(e){e.map((e=>{e.bgColor=this.bgColor}))},lightenColor(e,t){4===e.length&&(e=e.replace(/^#(.)(.)(.)$/,"#$1$1$2$2$3$3")),e=e.replace("#","");const o=parseInt(e.substring(0,2),16),a=parseInt(e.substring(2,4),16),n=parseInt(e.substring(4,6),16),l=Math.round(2.55*t),i=Math.min(255,o+l),r=Math.min(255,a+l),s=Math.min(255,n+l),d=`#${i.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`;return d}},async mounted(){this.handleData(this.data),this.handleBgColor(this.data),await this.handleX(this.data),this.box2Width=this.$refs.box2.scrollWidth,setTimeout((()=>{this.data.forEach(((e,t)=>{setTimeout((()=>{e.animate=!0}),100*t)}))}),500),setTimeout((()=>{this.isOk=!0}),500)}},N=a(82);const S=(0,N.Z)(k,[["render",g],["__scopeId","data-v-5bc13af7"]]);var B=S;const E={colinBar:B};function V(e){const t=Object.keys(E);t.forEach((t=>{const o=E[t];e.component(o.name||t,o)}))}var O={install:V,...E},C=O}(),n}()}));
//# sourceMappingURL=colinbar.umd.min.js.map